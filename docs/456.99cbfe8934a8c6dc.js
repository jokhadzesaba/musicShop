"use strict";(self.webpackChunkmusicshop=self.webpackChunkmusicshop||[]).push([[456],{9456:(y,c,l)=>{l.r(c),l.d(c,{SinleCategoryPageModuleModule:()=>O});var a=l(177),d=l(4454),e=l(4438),C=l(5435),f=l(4390),g=l(9417),p=l(2152),h=l(708),u=l(3550);function M(o,S){if(1&o){const t=e.RV6();e.j41(0,"app-card",12),e.bIt("removeEvent",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.onRemove(n))})("editEvent",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.onEdit(n))}),e.k0s()}2&o&&e.Y8G("product",S.$implicit)}const m=[{path:"",component:(()=>{class o{constructor(t,r,n,s){this.route=t,this.sharedService=r,this.shareDataService=n,this.cd=s,this.likedProducts=[],this.leftSlider=0,this.rightSlider=5e4,this.searchWords="",this.isAdmin=!1,this.isEditing=""}ngOnInit(){this.getProducts();let t=JSON.parse(localStorage.getItem("currentUser"));t&&(this.isAdmin=t.user.isAdmin),this.cd.detectChanges()}onRemove(t){this.sharedService.removeProduct(t.prodCategory,t.prodId).subscribe(()=>{this.products=this.products.filter(r=>r.key!==t.prodId),this.cd.detectChanges()})}getProducts(){this.route.params.subscribe(t=>{this.shareDataService.getData(t.category).subscribe(r=>{this.products=r,this.UnChangedProducts=r,this.cd.detectChanges()})})}searchWordInSentence(t){const r=this.searchWords.toUpperCase().split(" ");let n=!0;for(let s of r)if(!t.toUpperCase().includes(s))return n=!1,n;return n}searchByRange(t){return this.leftSlider>this.rightSlider?t<this.leftSlider&&t>this.rightSlider:t>this.leftSlider&&t<this.rightSlider}filter(){this.products=this.UnChangedProducts.filter(t=>this.searchByRange(t.product.price)&&this.searchWordInSentence(t.product.model)),this.cd.detectChanges()}onEdit(t){this.sharedService.editProduct(t.form,t.prodId,t.prodCategory).subscribe(()=>{this.sharedService.updateProductArray(t.form,this.products,t.prodId),this.cd.detectChanges()})}static#e=this.\u0275fac=function(r){return new(r||o)(e.rXU(d.nX),e.rXU(C.m),e.rXU(f.L),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-single-category-page"]],decls:16,vars:8,consts:[[1,"filter"],[1,"slider"],[1,"left"],["type","range","min","0","max","50000","id","lower",3,"ngModelChange","ngModel"],["type","text",3,"ngModelChange","value","ngModel"],[1,"right"],["type","range","min","0","max","50000","id","upper",3,"ngModelChange","ngModel"],[1,"search"],["type","text","placeholder","model",3,"ngModelChange","ngModel"],["src","assets/loupe.png","alt","img",3,"click"],[1,"products"],["class","single-product",3,"product","removeEvent","editEvent",4,"ngFor","ngForOf"],[1,"single-product",3,"removeEvent","editEvent","product"]],template:function(r,n){1&r&&(e.nrm(0,"app-header"),e.j41(1,"div",0)(2,"div",1)(3,"div",2)(4,"input",3),e.mxI("ngModelChange",function(i){return e.DH7(n.leftSlider,i)||(n.leftSlider=i),i}),e.k0s(),e.j41(5,"input",4),e.mxI("ngModelChange",function(i){return e.DH7(n.leftSlider,i)||(n.leftSlider=i),i}),e.k0s()(),e.j41(6,"div",5)(7,"input",6),e.mxI("ngModelChange",function(i){return e.DH7(n.rightSlider,i)||(n.rightSlider=i),i}),e.k0s(),e.j41(8,"input",4),e.mxI("ngModelChange",function(i){return e.DH7(n.rightSlider,i)||(n.rightSlider=i),i}),e.k0s()()(),e.j41(9,"div",7)(10,"input",8),e.mxI("ngModelChange",function(i){return e.DH7(n.searchWords,i)||(n.searchWords=i),i}),e.k0s(),e.j41(11,"img",9),e.bIt("click",function(){return n.filter()}),e.k0s()(),e.nrm(12,"br"),e.k0s(),e.j41(13,"div",10),e.DNE(14,M,1,1,"app-card",11),e.k0s(),e.nrm(15,"app-footer")),2&r&&(e.R7$(4),e.R50("ngModel",n.leftSlider),e.R7$(),e.Y8G("value",n.leftSlider),e.R50("ngModel",n.leftSlider),e.R7$(2),e.R50("ngModel",n.rightSlider),e.R7$(),e.Y8G("value",n.rightSlider),e.R50("ngModel",n.rightSlider),e.R7$(2),e.R50("ngModel",n.searchWords),e.R7$(4),e.Y8G("ngForOf",n.products))},dependencies:[a.Sq,g.me,g.MR,g.BC,g.vS,p.l,h.n,u.i],styles:[".filter[_ngcontent-%COMP%]{padding-left:7%;display:flex;flex-direction:column;gap:17px}.filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%] > .right[_ngcontent-%COMP%], .filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;width:350px;gap:4px;align-items:center}.filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%] > .right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child, .filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child{width:250px;background:linear-gradient(gray,gray) no-repeat center;border-radius:1px;background-size:100% 2px;cursor:pointer}.filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%] > .right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child:active, .filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%] > .right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child:focus, .filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child:active, .filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child:focus{outline:none}.filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%] > .right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child::-webkit-slider-thumb, .filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child::-webkit-slider-thumb{height:28px;width:28px;border-radius:28px;background-color:#fff;position:relative;cursor:pointer;appearance:none;pointer-events:all;box-shadow:0 1px 4px .5px #00000040}.filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%] > .right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:nth-child(2), .filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:nth-child(2){width:45px;height:25px;border-radius:6px}.filter[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.filter[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.filter[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:250px;height:23px;border-radius:5px}.products[_ngcontent-%COMP%]{display:flex;gap:20px;flex-wrap:wrap;width:100%;padding:6%}input[type=range][_ngcontent-%COMP%]{box-sizing:border-box;appearance:none;width:400px;margin:0;padding:0 2px;overflow:hidden;border:0;border-radius:1px;outline:none;background:linear-gradient(gray,gray) no-repeat center;background-size:100% 2px;pointer-events:none}"],changeDetection:0})}return o})()}];let P=(()=>{class o{static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275mod=e.$C({type:o});static#n=this.\u0275inj=e.G2t({imports:[d.iI.forChild(m),d.iI]})}return o})();var _=l(9156);let O=(()=>{class o{static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275mod=e.$C({type:o});static#n=this.\u0275inj=e.G2t({imports:[a.MD,P,g.YN,p.l,h.n,_.B,u.i]})}return o})()}}]);