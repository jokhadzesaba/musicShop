"use strict";(self.webpackChunkmusicshop=self.webpackChunkmusicshop||[]).push([[456],{9456:(I,g,s)=>{s.r(g),s.d(g,{SinleCategoryPageModuleModule:()=>_});var d=s(177),l=s(4454),e=s(4438),f=s(5435),C=s(4390),c=s(9417),p=s(2152),h=s(708),u=s(3550);function M(r,m){if(1&r){const t=e.RV6();e.j41(0,"app-card",10),e.bIt("removeEvent",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onRemove(n))})("editEvent",function(n){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onEdit(n))}),e.k0s()}2&r&&e.Y8G("product",m.$implicit)}function S(r,m){if(1&r&&(e.j41(0,"div",8),e.DNE(1,M,1,1,"app-card",9),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.products)}}const y=[{path:"",component:(()=>{class r{constructor(t,i,n,a){this.route=t,this.sharedService=i,this.shareDataService=n,this.cd=a,this.searchWords="",this.isAdmin=!1,this.isEditing="",this.acoustic=!1}ngOnInit(){this.getProducts();let t=JSON.parse(localStorage.getItem("currentUser"));t&&(this.isAdmin=t.user.isAdmin),this.cd.detectChanges()}onRemove(t){this.sharedService.removeProduct(t.prodCategory,t.prodId).subscribe(()=>{this.products=this.products.filter(i=>i.key!==t.prodId),this.cd.detectChanges()})}getProducts(){this.route.params.subscribe(t=>{this.shareDataService.getData(t.category).subscribe(i=>{i&&(this.products=i,this.UnChangedProducts=i,this.cd.detectChanges())})})}searchWordInSentence(t){const i=this.searchWords.toUpperCase().split(" ");let n=!0;for(let a of i)if(!t.toUpperCase().includes(a))return n=!1,n;return n}searchByRange(t){return!this.leftSlider||!this.rightSlider||(this.leftSlider>this.rightSlider?t<this.leftSlider&&t>this.rightSlider:t>this.leftSlider&&t<this.rightSlider)}filter(){this.products=this.UnChangedProducts.filter(t=>this.searchByRange(t.product.price)&&this.searchWordInSentence(t.product.model)&&t.product.isAcoustic===this.acoustic),this.cd.detectChanges()}onEdit(t){this.sharedService.editProduct(t.form,t.prodId,t.prodCategory).subscribe(()=>{this.sharedService.updateProductArray(t.form,this.products,t.prodId),this.cd.detectChanges()})}static#e=this.\u0275fac=function(i){return new(i||r)(e.rXU(l.nX),e.rXU(f.m),e.rXU(C.L),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-single-category-page"]],decls:13,vars:5,consts:[[1,"filter"],["type","number","placeholder","min price",3,"ngModelChange","ngModel"],["type","number","placeholder","max price",3,"ngModelChange","ngModel"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"search"],["type","text","placeholder","model",3,"ngModelChange","ngModel"],["src","assets/loupe.png","alt","img",3,"click"],["class","products",4,"ngIf"],[1,"products"],["class","single-product",3,"product","removeEvent","editEvent",4,"ngFor","ngForOf"],[1,"single-product",3,"removeEvent","editEvent","product"]],template:function(i,n){1&i&&(e.nrm(0,"app-header"),e.j41(1,"div",0)(2,"input",1),e.mxI("ngModelChange",function(o){return e.DH7(n.leftSlider,o)||(n.leftSlider=o),o}),e.k0s(),e.j41(3,"input",2),e.mxI("ngModelChange",function(o){return e.DH7(n.rightSlider,o)||(n.rightSlider=o),o}),e.k0s(),e.j41(4,"label"),e.EFF(5," Acoustic "),e.j41(6,"input",3),e.mxI("ngModelChange",function(o){return e.DH7(n.acoustic,o)||(n.acoustic=o),o}),e.k0s()(),e.j41(7,"div",4)(8,"input",5),e.mxI("ngModelChange",function(o){return e.DH7(n.searchWords,o)||(n.searchWords=o),o}),e.k0s(),e.j41(9,"img",6),e.bIt("click",function(){return n.filter()}),e.k0s()(),e.nrm(10,"br"),e.k0s(),e.DNE(11,S,2,1,"div",7),e.nrm(12,"app-footer")),2&i&&(e.R7$(2),e.R50("ngModel",n.leftSlider),e.R7$(),e.R50("ngModel",n.rightSlider),e.R7$(3),e.R50("ngModel",n.acoustic),e.R7$(2),e.R50("ngModel",n.searchWords),e.R7$(3),e.Y8G("ngIf",n.products))},dependencies:[d.Sq,d.bT,c.me,c.Q0,c.Zm,c.BC,c.vS,p.l,h.n,u.i],styles:[".filter[_ngcontent-%COMP%]{padding-left:7%;display:flex;flex-direction:column;gap:17px}.filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;gap:10px}.filter[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:80px;border-radius:4px}.filter[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.filter[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.filter[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:250px;height:23px;border-radius:5px}.products[_ngcontent-%COMP%]{display:flex;gap:20px;flex-wrap:wrap;width:100%;padding:6%}"],changeDetection:0})}return r})()}];let v=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=e.$C({type:r});static#n=this.\u0275inj=e.G2t({imports:[l.iI.forChild(y),l.iI]})}return r})();var P=s(9156);let _=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=e.$C({type:r});static#n=this.\u0275inj=e.G2t({imports:[d.MD,v,c.YN,p.l,h.n,P.B,u.i]})}return r})()}}]);