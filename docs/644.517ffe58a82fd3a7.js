"use strict";(self.webpackChunkmusicshop=self.webpackChunkmusicshop||[]).push([[644],{5644:(S,c,l)=>{l.r(c),l.d(c,{SinleCategoryPageModuleModule:()=>O});var a=l(1368),g=l(4856),e=l(4496),C=l(3804),f=l(788),d=l(6504),p=l(1092),h=l(6940),u=l(4320);function M(o,y){if(1&o){const t=e.KQA();e.I0R(0,"app-card",12),e.qCj("removeEvent",function(n){e.usT(t);const s=e.GaO();return e.CGJ(s.onRemove(n))})("editEvent",function(n){e.usT(t);const s=e.GaO();return e.CGJ(s.onEdit(n))}),e.C$Y()}2&o&&e.E7m("product",y.$implicit)}const P=[{path:"",component:(()=>{class o{constructor(t,i,n,s,r){this.route=t,this.router=i,this.sharedService=n,this.authService=s,this.cd=r,this.likedProducts=[],this.leftSlider=0,this.rightSlider=1e4,this.searchWords="",this.isAdmin=!1,this.isEditing=""}ngOnInit(){this.getProducts();let t=JSON.parse(localStorage.getItem("currentUser"));t&&(this.isAdmin=t.user.isAdmin),this.cd.detectChanges(),console.log(this.isAdmin)}onRemove(t){this.sharedService.removeProduct(t.prodCategory,t.prodId).subscribe(()=>{this.products=this.products.filter(i=>i.key!==t.prodId),this.cd.detectChanges()})}getProducts(){this.route.params.subscribe(t=>{this.sharedService.getTypeOfProduct(t.category).subscribe(i=>{this.products=i,this.UnChangedProducts=i,this.cd.detectChanges()}),this.authService.likedProducts.subscribe(i=>{this.likedProducts=i,this.cd.detectChanges()})})}searchWordInSentence(t){const i=this.searchWords.toUpperCase().split(" ");let n=!0;for(let s of i)if(!t.toUpperCase().includes(s))return n=!1,n;return n}searchByRange(t){return this.leftSlider>this.rightSlider?t<this.leftSlider&&t>this.rightSlider:t>this.leftSlider&&t<this.rightSlider}filter(){this.products=this.UnChangedProducts.filter(t=>this.searchByRange(t.product.price)&&this.searchWordInSentence(t.product.model)),this.cd.detectChanges()}onEdit(t){this.sharedService.editProduct(t.form,t.prodId,t.prodCategory).subscribe(()=>{this.sharedService.updateProductArray(t.form,this.products,t.prodId),this.cd.detectChanges()})}static#e=this.\u0275fac=function(i){return new(i||o)(e.GI1(g.gV),e.GI1(g.E5),e.GI1(C.Y),e.GI1(f.e),e.GI1(e.kD9))};static#t=this.\u0275cmp=e.In1({type:o,selectors:[["app-single-category-page"]],decls:16,vars:8,consts:[[1,"filter"],[1,"slider"],[1,"left"],["type","range","min","0","max","10000","id","lower",3,"ngModel","ngModelChange"],["type","text",3,"value","ngModel","ngModelChange"],[1,"right"],["type","range","min","0","max","10000","id","upper",3,"ngModel","ngModelChange"],[1,"search"],["type","text","placeholder","model",3,"ngModel","ngModelChange"],["src","assets/loupe.png","alt","img",3,"click"],[1,"products"],["class","single-product",3,"product","removeEvent","editEvent",4,"ngFor","ngForOf"],[1,"single-product",3,"product","removeEvent","editEvent"]],template:function(i,n){1&i&&(e.wR5(0,"app-header"),e.I0R(1,"div",0)(2,"div",1)(3,"div",2)(4,"input",3),e.iHE("ngModelChange",function(r){return e.kNx(n.leftSlider,r)||(n.leftSlider=r),r}),e.C$Y(),e.I0R(5,"input",4),e.iHE("ngModelChange",function(r){return e.kNx(n.leftSlider,r)||(n.leftSlider=r),r}),e.C$Y()(),e.I0R(6,"div",5)(7,"input",6),e.iHE("ngModelChange",function(r){return e.kNx(n.rightSlider,r)||(n.rightSlider=r),r}),e.C$Y(),e.I0R(8,"input",4),e.iHE("ngModelChange",function(r){return e.kNx(n.rightSlider,r)||(n.rightSlider=r),r}),e.C$Y()()(),e.I0R(9,"div",7)(10,"input",8),e.iHE("ngModelChange",function(r){return e.kNx(n.searchWords,r)||(n.searchWords=r),r}),e.C$Y(),e.I0R(11,"img",9),e.qCj("click",function(){return n.filter()}),e.C$Y()(),e.wR5(12,"br"),e.C$Y(),e.I0R(13,"div",10),e.yuY(14,M,1,1,"app-card",11),e.C$Y(),e.wR5(15,"app-footer")),2&i&&(e.yG2(4),e.OKB("ngModel",n.leftSlider),e.yG2(),e.E7m("value",n.leftSlider),e.OKB("ngModel",n.leftSlider),e.yG2(2),e.OKB("ngModel",n.rightSlider),e.yG2(),e.E7m("value",n.rightSlider),e.OKB("ngModel",n.rightSlider),e.yG2(2),e.OKB("ngModel",n.searchWords),e.yG2(4),e.E7m("ngForOf",n.products))},dependencies:[a.ay,d.ot,d.IT,d.ue,d._G,p.k,h.W,u.u],styles:[".filter[_ngcontent-%COMP%]{padding-left:7%;display:flex;flex-direction:column;gap:17px}.filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%] > .right[_ngcontent-%COMP%], .filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;width:350px;gap:4px;align-items:center}.filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%] > .right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child, .filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child{width:250px;background:linear-gradient(gray,gray) no-repeat center;border-radius:1px;background-size:100% 2px;cursor:pointer}.filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%] > .right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child:active, .filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%] > .right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child:focus, .filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child:active, .filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child:focus{outline:none}.filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%] > .right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child::-webkit-slider-thumb, .filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child::-webkit-slider-thumb{height:28px;width:28px;border-radius:28px;background-color:#fff;position:relative;cursor:pointer;appearance:none;pointer-events:all;box-shadow:0 1px 4px .5px #00000040}.filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%] > .right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:nth-child(2), .filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:nth-child(2){width:45px;height:25px;border-radius:6px}.filter[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.filter[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.filter[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:250px;height:23px;border-radius:5px}.products[_ngcontent-%COMP%]{display:flex;gap:20px;flex-wrap:wrap;width:100%;padding:6%}input[type=range][_ngcontent-%COMP%]{box-sizing:border-box;appearance:none;width:400px;margin:0;padding:0 2px;overflow:hidden;border:0;border-radius:1px;outline:none;background:linear-gradient(gray,gray) no-repeat center;background-size:100% 2px;pointer-events:none}"],changeDetection:0})}return o})()}];let m=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.a4G({type:o});static#n=this.\u0275inj=e.s3X({imports:[g.qQ.forChild(P),g.qQ]})}return o})();var _=l(6736);let O=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.a4G({type:o});static#n=this.\u0275inj=e.s3X({imports:[a.MD,m,d.y,p.k,h.W,_.o,u.u]})}return o})()}}]);