"use strict";(self.webpackChunkmusicshop=self.webpackChunkmusicshop||[]).push([[644],{5644:(S,p,g)=>{g.r(p),g.d(p,{SinleCategoryPageModuleModule:()=>v});var a=g(1368),d=g(4856),t=g(4496),C=g(3804),h=g(788),l=g(6504),u=g(1092),_=g(6940);function f(o,s){if(1&o){const n=t.KQA();t.I0R(0,"img",23),t.qCj("click",function(){t.usT(n);const e=t.GaO().$implicit,c=t.GaO();return t.CGJ(c.likeUnlikeProduct(e.key,e.product.category))}),t.C$Y()}}function P(o,s){if(1&o){const n=t.KQA();t.I0R(0,"img",24),t.qCj("click",function(){t.usT(n);const e=t.GaO().$implicit,c=t.GaO();return t.CGJ(c.likeUnlikeProduct(e.key,e.product.category))}),t.C$Y()}}function M(o,s){if(1&o&&(t.I0R(0,"div",25),t.OEk(1),t.C$Y()),2&o){const n=t.GaO().$implicit;t.yG2(),t.oRS(" -",n.product.discount,"% ")}}function O(o,s){if(1&o&&(t.I0R(0,"span"),t.OEk(1),t.C$Y()),2&o){const n=t.GaO().$implicit;t.yG2(),t.oRS("",n.product.price,"$")}}function m(o,s){if(1&o&&(t.I0R(0,"div",26)(1,"span"),t.OEk(2),t.C$Y(),t.I0R(3,"span"),t.OEk(4),t.C$Y()()),2&o){const n=t.GaO().$implicit,i=t.GaO();t.yG2(2),t.oRS(" ",n.product.price,"$ "),t.yG2(2),t.oRS("",i.calculateDiscount(n.product.price,n.product.discount),"$")}}function y(o,s){if(1&o){const n=t.KQA();t.I0R(0,"div",12)(1,"div",13)(2,"button",14),t.qCj("click",function(){const c=t.usT(n).$implicit,r=t.GaO();return t.CGJ(r.addInCart(c))}),t.OEk(3,"Add to cart"),t.C$Y(),t.I0R(4,"div")(5,"span",14),t.qCj("click",function(){const c=t.usT(n).$implicit,r=t.GaO();return t.CGJ(r.navigation(c.key,c.product.category))}),t.OEk(6,"See Product"),t.C$Y(),t.I0R(7,"span",14),t.qCj("click",function(){const c=t.usT(n).$implicit,r=t.GaO();return t.CGJ(r.likeUnlikeProduct(c.key,c.product.category))}),t.yuY(8,f,1,0,"img",15)(9,P,1,0,"img",16),t.C$Y()()(),t.I0R(10,"div",17),t.yuY(11,M,2,1,"div",18),t.wR5(12,"img",19),t.C$Y(),t.I0R(13,"div",20)(14,"span"),t.OEk(15),t.C$Y(),t.I0R(16,"span"),t.OEk(17),t.C$Y(),t.yuY(18,O,2,1,"span",21)(19,m,5,2,"div",22),t.C$Y()()}if(2&o){const n=s.$implicit,i=t.GaO();t.yG2(8),t.E7m("ngIf",!i.checkIfliked(n.key)),t.yG2(),t.E7m("ngIf",i.checkIfliked(n.key)),t.yG2(2),t.E7m("ngIf",n.product.discount>0),t.yG2(),t.E7m("src",n.product.photoUrl[0],t.K6U),t.yG2(3),t.cNF(n.product.category),t.yG2(2),t.cNF(n.product.model),t.yG2(),t.E7m("ngIf",0===n.product.discount),t.yG2(),t.E7m("ngIf",n.product.discount>0)}}const x=[{path:"",component:(()=>{class o{constructor(n,i,e,c,r){this.route=n,this.router=i,this.sharedService=e,this.authService=c,this.cd=r,this.likedProducts=[],this.leftSlider=0,this.rightSlider=1e4,this.searchWords=""}ngOnInit(){this.getProducts(),this.cd.detectChanges()}getProducts(){this.route.params.subscribe(n=>{this.sharedService.getTypeOfProduct(n.category).subscribe(i=>{this.products=i,this.UnChangedProducts=i,this.cd.detectChanges()}),this.authService.likedProducts.subscribe(i=>{this.likedProducts=i,this.cd.detectChanges()})})}checkIfliked(n){return this.likedProducts.some(i=>i.key===n)}likeUnlikeProduct(n,i){this.authService.loggedUser.subscribe(e=>{void 0!==e&&this.sharedService.likeUnlikeProduct(n,e.key,i).subscribe()})}navigation(n,i){this.router.navigate([`single-product/${n}`],{queryParams:{type:i,prod:n}})}addInCart(n){this.sharedService.cartOperations("add",n)}searchWordInSentence(n){const i=this.searchWords.toUpperCase().split(" ");let e=!0;for(let c of i)if(!n.toUpperCase().includes(c))return e=!1,e;return e}searchByRange(n){return this.leftSlider>this.rightSlider?n<this.leftSlider&&n>this.rightSlider:n>this.leftSlider&&n<this.rightSlider}filter(){this.products=this.UnChangedProducts.filter(n=>this.searchByRange(n.product.price)&&this.searchWordInSentence(n.product.model)),this.cd.detectChanges()}calculateDiscount(n,i){return n-Math.round(n*i/100)}static#t=this.\u0275fac=function(i){return new(i||o)(t.GI1(d.gV),t.GI1(d.E5),t.GI1(C.Y),t.GI1(h.e),t.GI1(t.kD9))};static#n=this.\u0275cmp=t.In1({type:o,selectors:[["app-single-category-page"]],decls:16,vars:8,consts:[[1,"filter"],[1,"slider"],[1,"left"],["type","range","min","0","max","10000","id","lower",3,"ngModel","ngModelChange"],["type","text",3,"value","ngModel","ngModelChange"],[1,"right"],["type","range","min","0","max","10000","id","upper",3,"ngModel","ngModelChange"],[1,"search"],["type","text","placeholder","model",3,"ngModel","ngModelChange"],["src","assets/loupe.png","alt","img",3,"click"],[1,"products"],["class","single-product",4,"ngFor","ngForOf"],[1,"single-product"],[1,"hover"],[3,"click"],["src","assets/heart.png","alt","img",3,"click",4,"ngIf"],["src","assets/heart-red.png","alt","img",3,"click",4,"ngIf"],[1,"img-placeholder"],["class","discount",4,"ngIf"],["alt","img",3,"src"],[1,"info"],[4,"ngIf"],["class","if-discount",4,"ngIf"],["src","assets/heart.png","alt","img",3,"click"],["src","assets/heart-red.png","alt","img",3,"click"],[1,"discount"],[1,"if-discount"]],template:function(i,e){1&i&&(t.wR5(0,"app-header"),t.I0R(1,"div",0)(2,"div",1)(3,"div",2)(4,"input",3),t.iHE("ngModelChange",function(r){return t.kNx(e.leftSlider,r)||(e.leftSlider=r),r}),t.C$Y(),t.I0R(5,"input",4),t.iHE("ngModelChange",function(r){return t.kNx(e.leftSlider,r)||(e.leftSlider=r),r}),t.C$Y()(),t.I0R(6,"div",5)(7,"input",6),t.iHE("ngModelChange",function(r){return t.kNx(e.rightSlider,r)||(e.rightSlider=r),r}),t.C$Y(),t.I0R(8,"input",4),t.iHE("ngModelChange",function(r){return t.kNx(e.rightSlider,r)||(e.rightSlider=r),r}),t.C$Y()()(),t.I0R(9,"div",7)(10,"input",8),t.iHE("ngModelChange",function(r){return t.kNx(e.searchWords,r)||(e.searchWords=r),r}),t.C$Y(),t.I0R(11,"img",9),t.qCj("click",function(){return e.filter()}),t.C$Y()(),t.wR5(12,"br"),t.C$Y(),t.I0R(13,"div",10),t.yuY(14,y,20,8,"div",11),t.C$Y(),t.wR5(15,"app-footer")),2&i&&(t.yG2(4),t.OKB("ngModel",e.leftSlider),t.yG2(),t.E7m("value",e.leftSlider),t.OKB("ngModel",e.leftSlider),t.yG2(2),t.OKB("ngModel",e.rightSlider),t.yG2(),t.E7m("value",e.rightSlider),t.OKB("ngModel",e.rightSlider),t.yG2(2),t.OKB("ngModel",e.searchWords),t.yG2(4),t.E7m("ngForOf",e.products))},dependencies:[a.ay,a.u_,l.ot,l.IT,l.ue,l._G,u.k,_.W],styles:[".filter[_ngcontent-%COMP%]{padding-left:7%;display:flex;flex-direction:column;gap:17px}.filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%] > .right[_ngcontent-%COMP%], .filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;width:350px;gap:4px;align-items:center}.filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%] > .right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child, .filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child{width:250px;background:linear-gradient(gray,gray) no-repeat center;border-radius:1px;background-size:100% 2px;cursor:pointer}.filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%] > .right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child:active, .filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%] > .right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child:focus, .filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child:active, .filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child:focus{outline:none}.filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%] > .right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child::-webkit-slider-thumb, .filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child::-webkit-slider-thumb{height:28px;width:28px;border-radius:28px;background-color:#fff;position:relative;cursor:pointer;appearance:none;pointer-events:all;box-shadow:0 1px 4px .5px #00000040}.filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%] > .right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:nth-child(2), .filter[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:nth-child(2){width:45px;height:25px;border-radius:6px}.filter[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.filter[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.filter[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:250px;height:23px;border-radius:5px}.products[_ngcontent-%COMP%]{display:flex;gap:20px;flex-wrap:wrap;width:100%;padding:6%}.products[_ngcontent-%COMP%] > .single-product[_ngcontent-%COMP%]{width:180px;height:380px;background-color:#e6e9f0;position:relative;display:flex;flex-direction:column}.products[_ngcontent-%COMP%] > .single-product[_ngcontent-%COMP%]:hover > .hover[_ngcontent-%COMP%]{display:block}.products[_ngcontent-%COMP%] > .single-product[_ngcontent-%COMP%] > .hover[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#3a3afa;top:30%;left:12%;z-index:1}.products[_ngcontent-%COMP%] > .single-product[_ngcontent-%COMP%] > .hover[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:140px;height:40px;border:1px solid gray;background-color:#fff;color:#d37a42}.products[_ngcontent-%COMP%] > .single-product[_ngcontent-%COMP%] > .hover[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-of-type{display:flex;gap:10px;justify-content:center;width:140px;height:40px;color:#fff}.products[_ngcontent-%COMP%] > .single-product[_ngcontent-%COMP%] > .hover[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-of-type > span[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.products[_ngcontent-%COMP%] > .single-product[_ngcontent-%COMP%] > .hover[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-of-type > span[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:3px;cursor:pointer}.products[_ngcontent-%COMP%] > .single-product[_ngcontent-%COMP%] > .img-placeholder[_ngcontent-%COMP%]{width:100%;height:260px;position:relative}.products[_ngcontent-%COMP%] > .single-product[_ngcontent-%COMP%] > .img-placeholder[_ngcontent-%COMP%] > .discount[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:40px;height:40px;position:absolute;top:20px;right:40px;background-color:#e97171;border-radius:50%;color:#fff}.products[_ngcontent-%COMP%] > .single-product[_ngcontent-%COMP%] > .img-placeholder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:260px}.products[_ngcontent-%COMP%] > .single-product[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%]{width:100%;height:120px;display:flex;flex-direction:column;justify-content:space-around}.products[_ngcontent-%COMP%] > .single-product[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:10px}.products[_ngcontent-%COMP%] > .single-product[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:not(:nth-child(2)){font-size:20px;font-weight:700}input[type=range][_ngcontent-%COMP%]{box-sizing:border-box;appearance:none;width:400px;margin:0;padding:0 2px;overflow:hidden;border:0;border-radius:1px;outline:none;background:linear-gradient(gray,gray) no-repeat center;background-size:100% 2px;pointer-events:none}.if-discount[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-of-type{text-decoration:line-through}.if-discount[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.if-discount[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:last-child{font-size:20px}"],changeDetection:0})}return o})()}];let k=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#n=this.\u0275mod=t.a4G({type:o});static#e=this.\u0275inj=t.s3X({imports:[d.qQ.forChild(x),d.qQ]})}return o})(),v=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#n=this.\u0275mod=t.a4G({type:o});static#e=this.\u0275inj=t.s3X({imports:[a.MD,k,l.y,u.k]})}return o})()}}]);